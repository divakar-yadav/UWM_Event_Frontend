{"ast":null,"code":"import{useState}from\"react\";import'./index.css';import'tailwindcss/tailwind.css';import CountdownTimer from'./CountdownTimer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){useState(()=>{document.title=\"Login\";},[]);const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[showPassword,setShowPassword]=useState(false);const[loading,setLoading]=useState(false);const handleEmailChange=event=>{setEmail(event.target.value);};const handlePasswordChange=event=>{setPassword(event.target.value);};const handleShowPassword=()=>{setShowPassword(!showPassword);};const handleSubmit=async e=>{e.preventDefault();setLoading(true);// Add code to handle login submission\ntry{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/signin/\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});// if response is 200 (ok), store the jwt token in local storage\n// and redirect to the dashboard\n// else, display error message\nif(response.status===200){const data=await response.json();console.log(data,\"---data-----\");localStorage.setItem(\"token\",data.token);localStorage.setItem(\"first_name\",data.first_name);window.location.href=\"/\";}else{const p=document.getElementById(\"error\");p.innerHTML=\"Invalid email or password\";p.style.color=\"red\";setLoading(false);}}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CountdownTimer,{targetDate:new Date('2023-04-22T09:00:00-05:00')}),/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-r from-ffbd00 to-[#eca600] flex items-center justify-center lg:-mt-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-8 w-full md:w-96 lg:w-1/2 mx-4 md:mx-0\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center\",children:\"Judge Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 text-center\",children:\"Please log in using the email address you registered with. Your password is your last name followed by 2024.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-xl font-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"w-full p-2 border border-gray-300 rounded\",id:\"email\",\"aria-describedby\":\"Email\",placeholder:\"Enter your email\",value:email,onChange:handleEmailChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-xl font-semibold\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',className:\"w-full p-2 border border-gray-300 rounded\",id:\"password\",\"aria-describedby\":\"Password\",placeholder:\"Enter your password\",value:password,onChange:handlePasswordChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:handleShowPassword,className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Show Password\"})]}),/*#__PURE__*/_jsx(\"p\",{id:\"status\",className:\"text-red-500 text-center\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full p-2 text-white font-bold rounded \".concat(loading?'bg-gray-500':'bg-green-500'),id:\"login-button\",type:\"submit\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm\",role:\"status\",\"aria-hidden\":\"true\"}),\"Loading...\"]}):'Login'})]}),/*#__PURE__*/_jsx(\"p\",{id:\"error\",className:\"text-red-500 mt-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 text-center mt-4\",children:\"If you are unable to log in, please stop by the registration table.\"})]})})]});}export default Login;","map":{"version":3,"names":["useState","CountdownTimer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","document","title","email","setEmail","password","setPassword","showPassword","setShowPassword","loading","setLoading","handleEmailChange","event","target","value","handlePasswordChange","handleShowPassword","handleSubmit","e","preventDefault","response","fetch","concat","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","status","data","json","console","log","localStorage","setItem","token","first_name","window","location","href","p","getElementById","innerHTML","style","color","error","children","targetDate","Date","className","onSubmit","htmlFor","type","id","placeholder","onChange","required","onClick","disabled","role"],"sources":["/Users/divakaryadav/Documents/SRPC2025/UWM_Event_Frontend/src/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport './index.css';\nimport 'tailwindcss/tailwind.css';\nimport CountdownTimer from './CountdownTimer';\n\n\nfunction Login() {\n  useState(() => {\n    document.title = \"Login\";\n  }, []);\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleEmailChange = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const handleShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    // Add code to handle login submission\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/signin/`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email,\n          password,\n        }),\n      });\n      // if response is 200 (ok), store the jwt token in local storage\n      // and redirect to the dashboard\n      // else, display error message\n      if (response.status === 200) {\n        const data = await response.json();\n        console.log(data,\"---data-----\")\n        localStorage.setItem(\"token\", data.token);\n        localStorage.setItem(\"first_name\", data.first_name);\n        window.location.href = \"/\";\n      } else {\n        const p = document.getElementById(\"error\");\n        p.innerHTML = \"Invalid email or password\";\n        p.style.color = \"red\";\n        setLoading(false);\n      }\n    }\n    catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <CountdownTimer targetDate={new Date('2023-04-22T09:00:00-05:00')} />\n      <div className=\"min-h-screen bg-gradient-to-r from-ffbd00 to-[#eca600] flex items-center justify-center lg:-mt-16\">\n        <div className=\"bg-white shadow-md rounded-lg p-8 w-full md:w-96 lg:w-1/2 mx-4 md:mx-0\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <h1 className=\"text-4xl font-bold text-center\">Judge Login</h1>\n            <p className=\"text-sm text-gray-600 text-center\">\n              Please log in using the email address you registered with. Your password is your last name followed by 2024.\n            </p>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"email\" className=\"block text-xl font-semibold\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                className=\"w-full p-2 border border-gray-300 rounded\"\n                id=\"email\"\n                aria-describedby=\"Email\"\n                placeholder=\"Enter your email\"\n                value={email}\n                onChange={handleEmailChange}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"password\" className=\"block text-xl font-semibold\">\n                Password\n              </label>\n              <input\n                type={showPassword ? 'text' : 'password'}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n                id=\"password\"\n                aria-describedby=\"Password\"\n                placeholder=\"Enter your password\"\n                value={password}\n                onChange={handlePasswordChange}\n                required\n              />\n            </div>\n\n            <div className=\"flex items-center mb-3\">\n              <input type=\"checkbox\" onClick={handleShowPassword} className=\"mr-2\" />\n              <span className=\"text-sm\">Show Password</span>\n            </div>\n\n            <p id=\"status\" className=\"text-red-500 text-center\"></p>\n\n            <button\n              className={`w-full p-2 text-white font-bold rounded ${loading ? 'bg-gray-500' : 'bg-green-500'\n                }`}\n              id=\"login-button\"\n              type=\"submit\"\n              disabled={loading}\n            >\n              {loading ? (\n                <>\n                  <span\n                    className=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  Loading...\n                </>\n              ) : (\n                'Login'\n              )}\n            </button>\n          </form>\n          <p id=\"error\" className=\"text-red-500 mt-4\"></p>\n          <p className=\"text-sm text-gray-600 text-center mt-4\">\n            If you are unable to log in, please stop by the registration table.\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,aAAa,CACpB,MAAO,0BAA0B,CACjC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAG9C,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACfR,QAAQ,CAAC,IAAM,CACbS,QAAQ,CAACC,KAAK,CAAG,OAAO,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAmB,iBAAiB,CAAIC,KAAK,EAAK,CACnCR,QAAQ,CAACQ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAIH,KAAK,EAAK,CACtCN,WAAW,CAACM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACjC,CAAC,CAED,KAAM,CAAAE,kBAAkB,CAAGA,CAAA,GAAM,CAC/BR,eAAe,CAAC,CAACD,YAAY,CAAC,CAChC,CAAC,CAED,KAAM,CAAAU,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBT,UAAU,CAAC,IAAI,CAAC,CAChB;AACA,GAAI,CACF,KAAM,CAAAU,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,aAAY,CACvEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB3B,KAAK,CACLE,QACF,CAAC,CACH,CAAC,CAAC,CACF;AACA;AACA;AACA,GAAIe,QAAQ,CAACW,MAAM,GAAK,GAAG,CAAE,CAC3B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAZ,QAAQ,CAACa,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,cAAc,CAAC,CAChCI,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,IAAI,CAACM,KAAK,CAAC,CACzCF,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEL,IAAI,CAACO,UAAU,CAAC,CACnDC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC5B,CAAC,IAAM,CACL,KAAM,CAAAC,CAAC,CAAG1C,QAAQ,CAAC2C,cAAc,CAAC,OAAO,CAAC,CAC1CD,CAAC,CAACE,SAAS,CAAG,2BAA2B,CACzCF,CAAC,CAACG,KAAK,CAACC,KAAK,CAAG,KAAK,CACrBrC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACA,MAAOsC,KAAK,CAAE,CACZd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC,CACpB,CACF,CAAC,CAED,mBACEnD,KAAA,CAAAE,SAAA,EAAAkD,QAAA,eACEtD,IAAA,CAACF,cAAc,EAACyD,UAAU,CAAE,GAAI,CAAAC,IAAI,CAAC,2BAA2B,CAAE,CAAE,CAAC,cACrExD,IAAA,QAAKyD,SAAS,CAAC,mGAAmG,CAAAH,QAAA,cAChHpD,KAAA,QAAKuD,SAAS,CAAC,wEAAwE,CAAAH,QAAA,eACrFpD,KAAA,SAAMwD,QAAQ,CAAEpC,YAAa,CAACmC,SAAS,CAAC,WAAW,CAAAH,QAAA,eACjDtD,IAAA,OAAIyD,SAAS,CAAC,gCAAgC,CAAAH,QAAA,CAAC,aAAW,CAAI,CAAC,cAC/DtD,IAAA,MAAGyD,SAAS,CAAC,mCAAmC,CAAAH,QAAA,CAAC,8GAEjD,CAAG,CAAC,cAEJpD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAH,QAAA,eACxBtD,IAAA,UAAO2D,OAAO,CAAC,OAAO,CAACF,SAAS,CAAC,6BAA6B,CAAAH,QAAA,CAAC,OAE/D,CAAO,CAAC,cACRtD,IAAA,UACE4D,IAAI,CAAC,OAAO,CACZH,SAAS,CAAC,2CAA2C,CACrDI,EAAE,CAAC,OAAO,CACV,mBAAiB,OAAO,CACxBC,WAAW,CAAC,kBAAkB,CAC9B3C,KAAK,CAAEX,KAAM,CACbuD,QAAQ,CAAE/C,iBAAkB,CAC5BgD,QAAQ,MACT,CAAC,EACC,CAAC,cAEN9D,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAH,QAAA,eACxBtD,IAAA,UAAO2D,OAAO,CAAC,UAAU,CAACF,SAAS,CAAC,6BAA6B,CAAAH,QAAA,CAAC,UAElE,CAAO,CAAC,cACRtD,IAAA,UACE4D,IAAI,CAAEhD,YAAY,CAAG,MAAM,CAAG,UAAW,CACzC6C,SAAS,CAAC,2CAA2C,CACrDI,EAAE,CAAC,UAAU,CACb,mBAAiB,UAAU,CAC3BC,WAAW,CAAC,qBAAqB,CACjC3C,KAAK,CAAET,QAAS,CAChBqD,QAAQ,CAAE3C,oBAAqB,CAC/B4C,QAAQ,MACT,CAAC,EACC,CAAC,cAEN9D,KAAA,QAAKuD,SAAS,CAAC,wBAAwB,CAAAH,QAAA,eACrCtD,IAAA,UAAO4D,IAAI,CAAC,UAAU,CAACK,OAAO,CAAE5C,kBAAmB,CAACoC,SAAS,CAAC,MAAM,CAAE,CAAC,cACvEzD,IAAA,SAAMyD,SAAS,CAAC,SAAS,CAAAH,QAAA,CAAC,eAAa,CAAM,CAAC,EAC3C,CAAC,cAENtD,IAAA,MAAG6D,EAAE,CAAC,QAAQ,CAACJ,SAAS,CAAC,0BAA0B,CAAI,CAAC,cAExDzD,IAAA,WACEyD,SAAS,4CAAA9B,MAAA,CAA6Cb,OAAO,CAAG,aAAa,CAAG,cAAc,CACzF,CACL+C,EAAE,CAAC,cAAc,CACjBD,IAAI,CAAC,QAAQ,CACbM,QAAQ,CAAEpD,OAAQ,CAAAwC,QAAA,CAEjBxC,OAAO,cACNZ,KAAA,CAAAE,SAAA,EAAAkD,QAAA,eACEtD,IAAA,SACEyD,SAAS,CAAC,kCAAkC,CAC5CU,IAAI,CAAC,QAAQ,CACb,cAAY,MAAM,CACb,CAAC,aAEV,EAAE,CAAC,CAEH,OACD,CACK,CAAC,EACL,CAAC,cACPnE,IAAA,MAAG6D,EAAE,CAAC,OAAO,CAACJ,SAAS,CAAC,mBAAmB,CAAI,CAAC,cAChDzD,IAAA,MAAGyD,SAAS,CAAC,wCAAwC,CAAAH,QAAA,CAAC,qEAEtD,CAAG,CAAC,EACD,CAAC,CACH,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,CAAAjD,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}