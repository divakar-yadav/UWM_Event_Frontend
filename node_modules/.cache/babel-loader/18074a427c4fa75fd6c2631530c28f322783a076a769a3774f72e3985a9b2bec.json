{"ast":null,"code":"import{Navbar,Nav}from'react-bootstrap';import logo from'./images/new_logo.png';import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ValidateToken=()=>{const[isAuthenticated,setIsAuthenticated]=useState(false);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{let ignore=false;async function checkAuth(){const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/home/validate_token/\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});if(!ignore){if(response.status===200){setIsAuthenticated(true);}setIsLoading(false);console.log(response);}}checkAuth();return()=>{ignore=true;};},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}else if(isAuthenticated){return true;}else{return false;}};function NavigationBar(props){const handleLogout=async()=>{localStorage.removeItem('token');localStorage.removeItem('first_name');window.location.href=\"/\";};return/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:\"lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",width:\"500\",height:\"500\",className:\"d-inline-block align-text-top\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"navbarNav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"navbarNav\",children:ValidateToken()?/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Student Research Poster Competition - 2025\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/signup\",children:\"Register\"})]})})]})});}export default NavigationBar;","map":{"version":3,"names":["Navbar","Nav","logo","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ValidateToken","isAuthenticated","setIsAuthenticated","isLoading","setIsLoading","ignore","checkAuth","response","fetch","concat","process","env","REACT_APP_API_URL","method","headers","Authorization","localStorage","getItem","status","console","log","children","NavigationBar","props","handleLogout","removeItem","window","location","href","bg","expand","className","Brand","src","alt","width","height","Toggle","Collapse","id","Link","onClick"],"sources":["/Users/divakaryadav/Documents/SRPC2025/UWM_Event_Frontend/src/Navbar.js"],"sourcesContent":["import { Navbar, Nav } from 'react-bootstrap';\nimport logo from './images/new_logo.png';\nimport React, { useState, useEffect } from 'react';\n\nconst ValidateToken = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n\n\n  useEffect(() => {\n    let ignore = false;\n\n    async function checkAuth() {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/home/validate_token/`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n      if (!ignore) {\n        if (response.status === 200) {\n          setIsAuthenticated(true);\n        }\n        setIsLoading(false);\n        console.log(response);\n      }\n    }\n\n    checkAuth();\n    return () => { ignore = true; };\n  }, []);\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n  else if (isAuthenticated) {\n    return true;\n  }\n  else {\n    return false;\n  }\n}\n\n\n\nfunction NavigationBar(props) {\n  const handleLogout = async () => {\n\n    localStorage.removeItem('token');\n    localStorage.removeItem('first_name');\n    window.location.href = \"/\";\n\n  };\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <div className=\"container-fluid\">\n        <Navbar.Brand href=\"/\">\n          <img\n            src={logo}\n            alt=\"Logo\"\n            width=\"500\"\n            height=\"500\"\n            className=\"d-inline-block align-text-top\"\n          />\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"navbarNav\" />\n        <Navbar.Collapse id=\"navbarNav\">\n          {ValidateToken() ? (\n            <Nav className=\"me-auto\">\n              {/* <Nav.Link href=\"/\">Student Research Poster Competition - 2025</Nav.Link> */}\n              <Nav.Link href=\"/\">Home</Nav.Link>\n              {/* <Nav.Link href=\"/\">Rubric</Nav.Link> */}\n              {/* <Nav.Link href=\"/\">Score Entry Page</Nav.Link> */}\n              {/* <Nav.Link href=\"/student-judged-count\">Live Judged Count</Nav.Link> */}\n              <Nav.Link onClick={handleLogout}>Logout</Nav.Link>\n            </Nav>\n          ) : (\n            <Nav className=\"me-auto\">\n              <Nav.Link href=\"/\">Student Research Poster Competition - 2025</Nav.Link>\n              <Nav.Link href=\"/\">Home</Nav.Link>\n              <Nav.Link href=\"/login\">Login</Nav.Link>\n              <Nav.Link href=\"/signup\">Register</Nav.Link>\n            </Nav>\n          )}\n\n        </Navbar.Collapse>\n      </div>\n    </Navbar>\n  );\n}\n\nexport default NavigationBar;\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,GAAG,KAAQ,iBAAiB,CAC7C,MAAO,CAAAC,IAAI,KAAM,uBAAuB,CACxC,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACS,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAIhDC,SAAS,CAAC,IAAM,CACd,GAAI,CAAAU,MAAM,CAAG,KAAK,CAElB,cAAe,CAAAC,SAASA,CAAA,CAAG,CACzB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,0BAAyB,CACpFC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAN,MAAA,CAAYO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,CACF,CAAC,CAAC,CAEF,GAAI,CAACZ,MAAM,CAAE,CACX,GAAIE,QAAQ,CAACW,MAAM,GAAK,GAAG,CAAE,CAC3BhB,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACAE,YAAY,CAAC,KAAK,CAAC,CACnBe,OAAO,CAACC,GAAG,CAACb,QAAQ,CAAC,CACvB,CACF,CAEAD,SAAS,CAAC,CAAC,CACX,MAAO,IAAM,CAAED,MAAM,CAAG,IAAI,CAAE,CAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,SAAS,CAAE,CACb,mBAAON,IAAA,QAAAwB,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAAC,IACI,IAAIpB,eAAe,CAAE,CACxB,MAAO,KAAI,CACb,CAAC,IACI,CACH,MAAO,MAAK,CACd,CACF,CAAC,CAID,QAAS,CAAAqB,aAAaA,CAACC,KAAK,CAAE,CAC5B,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAE/BR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC,CAChCT,YAAY,CAACS,UAAU,CAAC,YAAY,CAAC,CACrCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAE5B,CAAC,CACD,mBACE/B,IAAA,CAACP,MAAM,EAACuC,EAAE,CAAC,OAAO,CAACC,MAAM,CAAC,IAAI,CAAAT,QAAA,cAC5BtB,KAAA,QAAKgC,SAAS,CAAC,iBAAiB,CAAAV,QAAA,eAC9BxB,IAAA,CAACP,MAAM,CAAC0C,KAAK,EAACJ,IAAI,CAAC,GAAG,CAAAP,QAAA,cACpBxB,IAAA,QACEoC,GAAG,CAAEzC,IAAK,CACV0C,GAAG,CAAC,MAAM,CACVC,KAAK,CAAC,KAAK,CACXC,MAAM,CAAC,KAAK,CACZL,SAAS,CAAC,+BAA+B,CAC1C,CAAC,CACU,CAAC,cACflC,IAAA,CAACP,MAAM,CAAC+C,MAAM,EAAC,gBAAc,WAAW,CAAE,CAAC,cAC3CxC,IAAA,CAACP,MAAM,CAACgD,QAAQ,EAACC,EAAE,CAAC,WAAW,CAAAlB,QAAA,CAC5BrB,aAAa,CAAC,CAAC,cACdD,KAAA,CAACR,GAAG,EAACwC,SAAS,CAAC,SAAS,CAAAV,QAAA,eAEtBxB,IAAA,CAACN,GAAG,CAACiD,IAAI,EAACZ,IAAI,CAAC,GAAG,CAAAP,QAAA,CAAC,MAAI,CAAU,CAAC,cAIlCxB,IAAA,CAACN,GAAG,CAACiD,IAAI,EAACC,OAAO,CAAEjB,YAAa,CAAAH,QAAA,CAAC,QAAM,CAAU,CAAC,EAC/C,CAAC,cAENtB,KAAA,CAACR,GAAG,EAACwC,SAAS,CAAC,SAAS,CAAAV,QAAA,eACtBxB,IAAA,CAACN,GAAG,CAACiD,IAAI,EAACZ,IAAI,CAAC,GAAG,CAAAP,QAAA,CAAC,4CAA0C,CAAU,CAAC,cACxExB,IAAA,CAACN,GAAG,CAACiD,IAAI,EAACZ,IAAI,CAAC,GAAG,CAAAP,QAAA,CAAC,MAAI,CAAU,CAAC,cAClCxB,IAAA,CAACN,GAAG,CAACiD,IAAI,EAACZ,IAAI,CAAC,QAAQ,CAAAP,QAAA,CAAC,OAAK,CAAU,CAAC,cACxCxB,IAAA,CAACN,GAAG,CAACiD,IAAI,EAACZ,IAAI,CAAC,SAAS,CAAAP,QAAA,CAAC,UAAQ,CAAU,CAAC,EACzC,CACN,CAEc,CAAC,EACf,CAAC,CACA,CAAC,CAEb,CAEA,cAAe,CAAAC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}